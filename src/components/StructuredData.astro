---
import productsData from '../data/microfiber_products.json';

// Generate structured data for the website and products
const websiteStructuredData = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Microfiber Stock Clearance - Factory Direct Pricing",
  "description": "Factory-direct microfiber products at special bulk pricing. Over 1 million units ready for immediate shipment from Thailand manufacturer.",
  "url": Astro.url.href,
  "mainEntity": {
    "@type": "Organization",
    "name": "Kids Kreations Co., Ltd.",
    "description": "Leading manufacturer of high-quality microfiber products for global markets",
    "url": Astro.site?.href || Astro.url.origin,
    "logo": `${Astro.url.origin}/images/logo.png`,
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+66 802065413",
      "contactType": "sales",
      "email": "lilsoft@kidskreationsco.com",
      "availableLanguage": ["English", "Thai"]
    },
    "address": {
      "@type": "PostalAddress",
      "addressCountry": "TH",
      "addressLocality": "Bangkok",
      "addressRegion": "Bangkok"
    },
    "sameAs": [
      "https://www.linkedin.com/company/kids-kreations",
      "https://www.facebook.com/kidskreationsthailand"
    ]
  },
  "breadcrumb": {
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": Astro.url.origin
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Microfiber Clearance",
        "item": Astro.url.href
      }
    ]
  }
};

// Generate product list structured data
const productListStructuredData = {
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Microfiber Clearance Products",
  "description": "Factory-direct microfiber products available for immediate shipment",
  "numberOfItems": productsData.length,
  "itemListElement": productsData.map((product, index) => ({
    "@type": "ListItem",
    "position": index + 1,
    "item": {
      "@type": "Product",
      "name": product.name,
      "description": product.summary,
      "material": product.fabric || "Microfiber",
      "manufacturer": {
        "@type": "Organization",
        "name": "Kids Kreations Co., Ltd."
      },
      "offers": {
        "@type": "Offer",
        "price": product.unit_price_thb_no_vat || "Contact for pricing",
        "priceCurrency": "THB",
        "availability": "https://schema.org/InStock",
        "seller": {
          "@type": "Organization",
          "name": "Kids Kreations Co., Ltd."
        }
      },
      "additionalProperty": [
        ...(product.gsm ? [{
          "@type": "PropertyValue",
          "name": "GSM",
          "value": product.gsm
        }] : []),
        ...(product.size ? [{
          "@type": "PropertyValue", 
          "name": "Size",
          "value": product.size
        }] : []),
        ...(product.colors && product.colors.length > 0 ? [{
          "@type": "PropertyValue",
          "name": "Available Colors",
          "value": product.colors.join(", ")
        }] : [])
      ]
    }
  }))
};

// FAQ structured data
const faqStructuredData = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What's the minimum order quantity for clearance items?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Minimum orders start at 1,000 units per SKU, but we offer better pricing for larger quantities. Container loads (20ft/40ft) receive the best rates. Mixed SKU orders are welcome to help you reach minimum quantities."
      }
    },
    {
      "@type": "Question", 
      "name": "Are these products defective or seconds quality?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No, these are first-quality products that have passed all our standard quality control processes. All items meet the same specifications as our regular production and are ready for immediate shipment from our factory warehouse."
      }
    },
    {
      "@type": "Question",
      "name": "How quickly can you ship, and what are the payment terms?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Ready stock can ship within 2-5 business days after payment confirmation. Payment terms are 30% deposit with the balance due before shipment via T/T wire transfer. Letter of Credit is available for orders over $50,000 USD."
      }
    },
    {
      "@type": "Question",
      "name": "Can I get samples before placing a large order?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, we provide free samples for serious buyers. Sample shipping costs apply, but we'll credit this against your first order. Samples typically ship within 24 hours and help you verify quality before committing to larger quantities."
      }
    }
  ]
};
---

<!-- Website and Organization Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(websiteStructuredData)} />

<!-- Product List Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(productListStructuredData)} />

<!-- FAQ Structured Data -->
<script type="application/ld+json" set:html={JSON.stringify(faqStructuredData)} />